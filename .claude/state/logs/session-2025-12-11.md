# 세션 로그: 2025-12-11

## 세션 정보

- **시작**: 2025-12-11
- **재시작**: 2025-12-11 (2차 세션)
- **종료**: 2025-12-12
- **현재 태스크**: Task 4 (features 레이어 구성)
- **상태**: 구조 완료 (세부 수정 보류)

## 이전 세션 이어서

- Task 3 완료됨 (entities 레이어 구성)
- Post, User, Comment, Tag 도메인별 폴더 구조 구성 완료
- 각 도메인에 model/types.ts, api/index.ts, index.ts 생성 완료
- FSD 의존성 방향 준수 확인

## 오늘 진행한 내용

### Task 4: features 레이어 구성

#### 1. 피처 목록 설계
- add-post, edit-post, delete-post, post-filter, comment-section, user-info 6개 피처 정의
- 각 피처에 ui/, model/, api/, index.ts 폴더 구조 생성

#### 2. 완료된 피처
- **user-info**: UserInfoModal.tsx, UserProfile.tsx 구현
- **add-post**: AddPostModal.tsx 구현
- **edit-post**: EditPostModal.tsx 구현
- **post-filter**: 합성 컴포넌트 패턴 적용 (PostFilter.tsx, Search.tsx, ByTag.tsx, BySort.tsx, ByOrder.tsx)
- **comment-section**: Comments.tsx, AddCommentModal.tsx, EditCommentModal.tsx 분리
- ~~**delete-post**~~: 삭제 (별도 피처가 아님으로 결정, entities/post/api에 deletePost만 유지)

#### 3. FSD 타입 설계 논의
- PostWithAuthor (cross-cutting 타입) 위치 논의
- 순수주의 vs 실용주의 접근 비교
- @x 패턴 학습 및 적용 결정

#### 4. @x 패턴 적용
- `entities/post/@x/with-user.ts` 생성
- PostWithAuthor 타입을 @x 패턴으로 정의
- entities/post/api에서 pages 의존성 제거
- `import type` 사용하여 타입만 import

#### 5. widgets 레이어 작업 (일부)
- PostTable.tsx를 widgets로 이동
- UserProfile을 features/user-info에 배치

#### 6. /check 검증 수행
- 빌드 실패 (32개 오류)
- FSD 구조는 완벽
- 세부 수정 사항은 전체 태스크 완료 후 한번에 정리하기로 결정

## 힌트 사용

- Level 1: 4회 (user-info, add-post, edit-post, post-filter)
- Level 2: 1회 (user-info 구조)

## 커밋 내역

| 해시 | 메시지 |
|------|--------|
| 67a690d | Refactor: Task 4 진행 - features 레이어 구성 |

## 다음 세션에서 할 일

- [ ] PostsManagerPage import 경로 수정 (public API 사용)
- [ ] import type 일관성 확보
- [ ] PostsManagerPage 로직 완성 (누락된 상태/함수)
- [ ] 빌드 테스트 및 오류 수정
- [ ] Task 4 완료 커밋
- [ ] Task 5 (전역상태관리) 시작

## 메모

- @x 패턴: entities 간 명시적 cross-reference를 표현하는 FSD 공식 패턴
- PostWithAuthor는 entities/post/@x/with-user.ts에 위치
- 순수주의 선택: entities는 순수하게 유지, 조합 타입은 @x로 명시적 표현
- post-filter: 합성 컴포넌트 패턴(Compound Component Pattern) 적용
- delete-post는 별도 피처가 아님 - 단순 API 호출은 entities에 위치
